(this.webpackJsonpwpmgame=this.webpackJsonpwpmgame||[]).push([[0],{74:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),s=n(8),o=(n(74),n(15)),l=n(51),u=n(156),j=n(150),d=n(158),b=n(154),h=n(152),O=n(153),m=n(149),x=n(155),f=n(96),g=n(57),p=180,v=n(139),w=n(136),S=n(141),y=n(5),P=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},correct:{color:"green"},wrong:{color:"red"}}})),W=function(e){var t=e.time,n=e.wordsPerMinute,a=e.username,r=P();return Object(y.jsx)(v.a,{position:"static",children:Object(y.jsxs)(S.a,{children:[Object(y.jsx)(f.a,{variant:"h6",className:r.title,children:"Words Per Minute"}),Object(y.jsxs)(f.a,{variant:"h6",className:r.title,children:["User: ",a]}),Object(y.jsxs)(f.a,{variant:"h6",className:r.title,children:["TIme: ",t,"s"]}),Object(y.jsxs)(f.a,{variant:"h6",className:r.title,children:["Current WPM: ",null===n||void 0===n?void 0:n.toFixed(2)]})]})})},C=n(95),M=n(143),I=n(147),N=n(146),T=n(142),k=n(148),F=n(144),L=n(145),G=Object(w.a)({table:{minWidth:650}}),E=function(e){var t=e.results,n=G();return 0===t.length?null:Object(y.jsx)(T.a,{component:C.a,children:Object(y.jsxs)(M.a,{className:n.table,"aria-label":"simple table",children:[Object(y.jsx)(F.a,{children:Object(y.jsxs)(L.a,{children:[Object(y.jsx)(N.a,{children:"\xa0"}),Object(y.jsx)(N.a,{align:"right",children:"WPM"}),Object(y.jsx)(N.a,{align:"right",children:"Completion"})]})}),Object(y.jsx)(I.a,{children:t.map((function(e,t){var n;return Object(y.jsxs)(L.a,{children:[Object(y.jsxs)(N.a,{component:"th",scope:"row",children:["Result ",t+1]}),Object(y.jsx)(N.a,{align:"right",children:null===(n=e.wordsPerMinute)||void 0===n?void 0:n.toFixed(2)}),Object(y.jsxs)(N.a,{align:"right",children:[100*((null===e||void 0===e?void 0:e.completion)||0),"%"]})]},t)}))}),Object(y.jsxs)(k.a,{children:[Object(y.jsx)(N.a,{align:"right",colSpan:2,children:"Average WPM"}),Object(y.jsx)(N.a,{align:"right",children:t.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.wordsPerMinute)||0)}),0)/t.length})]})]})})},R=n(3),U=Object(w.a)((function(e){return{container:{padding:e.spacing(2),height:100},correct:{color:"green"},wrong:{color:"red"},currentWord:{textDecorationLine:"underline",fontWeight:600}}})),D=function(e){var t=e.characters,n=U();return Object(y.jsx)(m.a,{item:!0,className:n.container,xs:12,children:t.map((function(e,t){return Object(y.jsx)(f.a,{component:"span",className:Object(R.a)("wrong"===e.display&&n.wrong,"correct"===e.display&&n.correct,e.currentWord&&n.currentWord),children:e.value},t)}))})},z=new g.LoremIpsum({sentencesPerParagraph:{max:7,min:6},wordsPerSentence:{max:7,min:6}}),A=function(e){var t,n,a,c,i=e.user,g=r.a.useState([]),v=Object(s.a)(g,2),w=v[0],S=v[1],P=r.a.useState(""),C=Object(s.a)(P,2),M=C[0],I=C[1],N=r.a.useState(0),T=Object(s.a)(N,2),k=T[0],F=T[1],L=r.a.useRef(null),G=r.a.useState(!0),R=Object(s.a)(G,2),U=R[0],A=R[1],B=r.a.useState(""),J=Object(s.a)(B,2),K=J[0],q=J[1],H=r.a.useRef(null),Q=r.a.useState(p),V=Object(s.a)(Q,2),X=V[0],Y=V[1],Z=r.a.useState(!1),$=Object(s.a)(Z,2),_=$[0],ee=$[1],te=r.a.useState(0),ne=Object(s.a)(te,2),ae=ne[0],re=ne[1],ce=r.a.useState(0),ie=Object(s.a)(ce,2),se=ie[0],oe=ie[1],le=r.a.useState(0),ue=Object(s.a)(le,2),je=ue[0],de=ue[1],be=r.a.useState([]),he=Object(s.a)(be,2),Oe=he[0],me=he[1],xe=r.a.useState(!1),fe=Object(s.a)(xe,2),ge=fe[0],pe=fe[1],ve=r.a.useState(null),we=Object(s.a)(ve,2),Se=we[0],ye=we[1],Pe=r.a.useState(!1),We=Object(s.a)(Pe,2),Ce=We[0],Me=We[1],Ie=r.a.useState(!1),Ne=Object(s.a)(Ie,2),Te=Ne[0],ke=Ne[1],Fe=r.a.useState(!1),Le=Object(s.a)(Fe,2),Ge=Le[0],Ee=Le[1],Re=X!==p?se/((p-X)/60):se/3,Ue=r.a.useCallback((function(e){var t=e.currentTarget.value,n=M+t,a=n.length-1;if(!(0===t.length&&M.length>0&&0===K.length)){var r=Object(l.a)(w),c=w.slice(0,a).some((function(e){return"wrong"===e.display}));if(a<0)r=w.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{display:"initial"})}));else if(n[a]!==w[a].value||c)de((function(e){return e+1})),c=!0,r=w.map((function(e,t){return a<=t?Object(o.a)(Object(o.a)({},e),{},{display:"wrong"}):e}));else{var i=!0;r=w.map((function(e,t){return" "===n[a]?a>=t?Object(o.a)(Object(o.a)({},e),{},{display:"correct",currentWord:!1}):(" "===e.value&&i&&(i=!1),Object(o.a)(Object(o.a)({},e),{},{display:"initial",currentWord:i})):a>=t?Object(o.a)(Object(o.a)({},e),{},{display:"correct"}):Object(o.a)(Object(o.a)({},e),{},{display:"initial"})}))}var s=r.filter((function(e){return"correct"===e.display})).length,u=s/5;F(s),oe(u),S(r),t.includes(" ")&&!c?(q(""),I(n)):q(t)}}),[w,M,K]),De=function(){Ee(!1)};return r.a.useEffect((function(){if(ae>0){var e=setTimeout((function(){re(ae-1)}),1e3);return function(){return clearTimeout(e)}}var t;0===ae&&_&&(ee(!1),H.current=setInterval((function(){Y((function(e){return e-1}))}),1e3),null===(t=L.current)||void 0===t||t.focus())}),[ae,_,L]),r.a.useEffect((function(){(0===X||w.length===k&&X!==p)&&(clearInterval(H.current),A(!0),q(""),oe(0),Y(p),me([].concat(Object(l.a)(Oe),[{timeLeft:X,errorCount:je,wordsTyped:se,correctCharacters:k,characters:w.map((function(e){return e.value})).join(""),typedCharacters:M,wordsPerMinute:X!==p?se/((p-X)/60):se/3,completion:k/w.length,duration:p}])),Ee(!0),pe(!0),Me(!1),S([]))}),[X,w,k,je,se,M,Oe]),r.a.useEffect((function(){ge&&(null===i||void 0===i?void 0:i.id)&&!Ce&&fetch("https://60205a6546f1e40017803271.mockapi.io/users",{method:"POST",body:JSON.stringify(Object(o.a)(Object(o.a)({},i),{},{gameData:"test"}))}).then((function(e){return e.json()})).then((function(){Me(!0),pe(!1),ke(!0)}),(function(e){Me(!0),pe(!1),ye(e)}))}),[ge,i,Oe]),console.log("error",Se),console.log("successful",Te),Object(y.jsxs)(j.a,{children:[Object(y.jsx)(W,{time:X,wordsPerMinute:Re,username:null!==(t=null===i||void 0===i?void 0:i.username)&&void 0!==t?t:""}),Object(y.jsxs)(m.a,{container:!0,spacing:2,children:[Object(y.jsx)(D,{characters:w}),Object(y.jsxs)(m.a,{container:!0,item:!0,xs:12,children:[Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(x.a,{size:"small",autoComplete:"off",type:"text",value:K,label:"Word",id:"wordInput",variant:"outlined",onChange:Ue,inputRef:L,disabled:U,autoFocus:!0})}),Object(y.jsx)(m.a,{item:!0,xs:!0,children:Object(y.jsx)(u.a,{variant:"contained",onClick:function(){re(3),Y(p),de(0),ee(!0),function(){var e=z.generateParagraphs(1),t=!0,n=Array.from(e).map((function(e){return" "===e&&t&&(t=!1),{value:e,display:"initial",currentWord:t}}));S(n),I(""),F(0),q("")}(),A(!1),clearInterval(H.current)},color:"primary",children:"New Game"})}),Object(y.jsx)(d.a,{open:ae>0,children:Object(y.jsx)(h.a,{children:Object(y.jsx)(f.a,{children:"New Game starts in ".concat(ae)})})}),Object(y.jsxs)(d.a,{open:Ge,onClose:De,children:[Object(y.jsx)(O.a,{children:"Results"}),Object(y.jsxs)(h.a,{children:[Object(y.jsxs)(f.a,{children:["Curent Game WPM:",null===(n=Oe[Oe.length-1])||void 0===n||null===(a=n.wordsPerMinute)||void 0===a?void 0:a.toFixed(2)]}),Object(y.jsxs)(f.a,{children:["Current Game Completion:",(100*((null===(c=Oe[Oe.length-1])||void 0===c?void 0:c.completion)||0)).toFixed(2),"%"]}),Object(y.jsxs)(f.a,{children:["Average WPM:",(Oe.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.wordsPerMinute)||0)}),0)/Oe.length).toFixed(2)]}),Object(y.jsxs)(f.a,{children:["Total Games: ",Oe.length]})]}),Object(y.jsx)(b.a,{children:Object(y.jsx)(u.a,{onClick:De,color:"primary",children:"Ok"})})]})]}),Object(y.jsx)(m.a,{item:!0,xs:12,children:Object(y.jsx)(E,{results:Oe})})]})]})},B=n(159),J=n(151),K=Object(w.a)((function(e){return{container:{padding:e.spacing(3)}}})),q=function(e){var t=e.users,n=e.setIsLoggedIn,a=e.setUser,c=K(),i=r.a.useState(""),o=Object(s.a)(i,2),l=o[0],d=o[1],b=r.a.useState(""),h=Object(s.a)(b,2),O=h[0],f=h[1],g=r.a.useState(!1),p=Object(s.a)(g,2),v=p[0],w=p[1],S=function(){var e=t.find((function(e){return e.username===l&&e.password===O}));e?(n(!0),a(e)):w(!0)},P=function(e){"Enter"===e.key&&(S(),e.preventDefault())};return Object(y.jsx)(j.a,{className:c.container,maxWidth:"xs",children:Object(y.jsxs)(m.a,{container:!0,spacing:3,children:[Object(y.jsx)(m.a,{item:!0,xs:12,children:"WPM Game"}),Object(y.jsx)(m.a,{item:!0,xs:12,children:Object(y.jsxs)(m.a,{container:!0,spacing:2,children:[Object(y.jsx)(m.a,{item:!0,xs:12,children:Object(y.jsx)(x.a,{fullWidth:!0,label:"Username",name:"username",size:"small",variant:"outlined",onChange:function(e){d(e.currentTarget.value)},error:v,onKeyPress:P})}),Object(y.jsx)(m.a,{item:!0,xs:12,children:Object(y.jsxs)(B.a,{error:v,fullWidth:!0,children:[Object(y.jsx)(x.a,{fullWidth:!0,label:"Password",name:"password",size:"small",type:"password",variant:"outlined",onChange:function(e){f(e.currentTarget.value)},error:v,"aria-describedby":"component-error-text",onKeyPress:P}),Object(y.jsx)(J.a,{id:"component-error-text",error:v,children:v?"Username and password is invalid.":""})]})})]})}),Object(y.jsx)(m.a,{item:!0,xs:12,children:Object(y.jsx)(u.a,{color:"primary",fullWidth:!0,type:"submit",variant:"contained",onClick:S,children:"Login"})})]})})},H=function(){var e=r.a.useState(null),t=Object(s.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=r.a.useState([]),j=Object(s.a)(u,2),d=j[0],b=j[1],h=r.a.useState(),O=Object(s.a)(h,2),m=O[0],x=O[1],f=r.a.useState(!1),g=Object(s.a)(f,2),p=g[0],v=g[1];return r.a.useEffect((function(){0===d.length&&fetch("https://60205a6546f1e40017803271.mockapi.io/users").then((function(e){return e.json()})).then((function(e){l(!0),b(e)}),(function(e){l(!0),a(e)}))}),[d]),console.log("error",n),console.log("isLoaded",o),console.log("users",d),p?Object(y.jsx)(A,{user:m}):Object(y.jsx)(q,{users:d,setIsLoggedIn:v,setUser:x})},Q=(n(93),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))});i.a.render(Object(y.jsx)(H,{}),document.getElementById("root")),Q()}},[[94,1,2]]]);
//# sourceMappingURL=main.a663cb4d.chunk.js.map