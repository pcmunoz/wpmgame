(this.webpackJsonpwpmgame=this.webpackJsonpwpmgame||[]).push([[0],{74:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),s=n(8),o=(n(74),n(156)),l=n(139),u=n(159),j=n(142),d=n(141),b=n(136),h=n(155),O=n(5),m=Object(b.a)((function(e){return{container:{padding:e.spacing(3)}}})),x=function(e){var t=e.users,n=e.setIsLoggedIn,a=e.setUser,c=m(),i=r.a.useState(""),b=Object(s.a)(i,2),x=b[0],f=b[1],g=r.a.useState(""),p=Object(s.a)(g,2),v=p[0],w=p[1],S=r.a.useState(!1),y=Object(s.a)(S,2),P=y[0],C=y[1],W=function(){var e=t.find((function(e){return e.username===x&&e.password===v}));e?(n(!0),a(e)):C(!0)},M=function(e){"Enter"===e.key&&(W(),e.preventDefault())};return Object(O.jsx)(l.a,{className:c.container,maxWidth:"xs",children:Object(O.jsxs)(d.a,{container:!0,spacing:3,children:[Object(O.jsx)(d.a,{item:!0,xs:12,children:"WPM Game"}),Object(O.jsx)(d.a,{item:!0,xs:12,children:Object(O.jsxs)(d.a,{container:!0,spacing:2,children:[Object(O.jsx)(d.a,{item:!0,xs:12,children:Object(O.jsx)(h.a,{fullWidth:!0,label:"Username",name:"username",size:"small",variant:"outlined",onChange:function(e){f(e.currentTarget.value)},error:P,onKeyPress:M})}),Object(O.jsx)(d.a,{item:!0,xs:12,children:Object(O.jsxs)(u.a,{error:P,fullWidth:!0,children:[Object(O.jsx)(h.a,{fullWidth:!0,label:"Password",name:"password",size:"small",type:"password",variant:"outlined",onChange:function(e){w(e.currentTarget.value)},error:P,"aria-describedby":"component-error-text",onKeyPress:M}),Object(O.jsx)(j.a,{id:"component-error-text",error:P,children:P?"Username and password is invalid.":""})]})})]})}),Object(O.jsx)(d.a,{item:!0,xs:12,children:Object(O.jsx)(o.a,{color:"secondary",fullWidth:!0,type:"submit",variant:"contained",onClick:W,children:"Login"})})]})})},f=n(15),g=n(51),p=n(158),v=n(154),w=n(152),S=n(153),y=n(96),P=n(58),C=n(143),W=n(144),M=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},correct:{color:"green"},wrong:{color:"red"}}})),I=function(e){var t=e.time,n=e.wordsPerMinute,a=e.username,r=M();return Object(O.jsx)(C.a,{position:"static",children:Object(O.jsxs)(W.a,{children:[Object(O.jsx)(y.a,{variant:"h6",className:r.title,children:"Words Per Minute"}),Object(O.jsxs)(y.a,{variant:"h6",className:r.title,children:["User: ",a]}),Object(O.jsxs)(y.a,{variant:"h6",className:r.title,children:["TIme: ",t]}),Object(O.jsxs)(y.a,{variant:"h6",className:r.title,children:["Current WPM: ",null===n||void 0===n?void 0:n.toFixed(2)]})]})})},N=n(95),T=n(146),k=n(150),F=n(149),L=n(145),G=n(151),E=n(147),R=n(148),U=Object(b.a)({table:{minWidth:650}}),D=function(e){var t=e.results,n=U();return 0===t.length?null:Object(O.jsx)(L.a,{component:N.a,children:Object(O.jsxs)(T.a,{className:n.table,"aria-label":"simple table",children:[Object(O.jsx)(E.a,{children:Object(O.jsxs)(R.a,{children:[Object(O.jsx)(F.a,{children:"\xa0"}),Object(O.jsx)(F.a,{align:"right",children:"WPM"}),Object(O.jsx)(F.a,{align:"right",children:"Completion"})]})}),Object(O.jsx)(k.a,{children:t.map((function(e,t){var n;return Object(O.jsxs)(R.a,{children:[Object(O.jsxs)(F.a,{component:"th",scope:"row",children:["Result ",t+1]}),Object(O.jsx)(F.a,{align:"right",children:null===(n=e.wordsPerMinute)||void 0===n?void 0:n.toFixed(2)}),Object(O.jsxs)(F.a,{align:"right",children:[100*((null===e||void 0===e?void 0:e.completion)||0),"%"]})]},t)}))}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(F.a,{align:"right",colSpan:2,children:"Average WPM"}),Object(O.jsx)(F.a,{align:"right",children:t.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.wordsPerMinute)||0)}),0)/t.length})]})]})})},z=n(3),A=Object(b.a)((function(e){return{container:{padding:e.spacing(2),height:100},correct:{color:"green"},wrong:{color:"red"},currentWord:{textDecorationLine:"underline"}}})),B=function(e){var t=e.characters,n=A();return Object(O.jsx)(d.a,{item:!0,className:n.container,xs:12,children:t.map((function(e,t){return Object(O.jsx)(y.a,{component:"span",className:Object(z.a)("wrong"===e.display&&n.wrong,"correct"===e.display&&n.correct,e.currentWord&&n.currentWord),children:e.value},t)}))})},J=new P.LoremIpsum({sentencesPerParagraph:{max:7,min:6},wordsPerSentence:{max:7,min:6}}),K=10,q=function(e){var t,n,a,c,i=e.user,u=r.a.useState([]),j=Object(s.a)(u,2),b=j[0],m=j[1],x=r.a.useState(""),P=Object(s.a)(x,2),C=P[0],W=P[1],M=r.a.useState(""),N=Object(s.a)(M,2),T=N[0],k=N[1],F=r.a.useState(K),L=Object(s.a)(F,2),G=L[0],E=L[1],R=r.a.useRef(null),U=r.a.useState(!1),z=Object(s.a)(U,2),A=z[0],q=z[1],H=r.a.useState(0),Q=Object(s.a)(H,2),V=Q[0],X=Q[1],Y=r.a.useState(0),Z=Object(s.a)(Y,2),$=Z[0],_=Z[1],ee=r.a.useState(0),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],re=r.a.useRef(null),ce=r.a.useState(!0),ie=Object(s.a)(ce,2),se=ie[0],oe=ie[1],le=r.a.useState(0),ue=Object(s.a)(le,2),je=ue[0],de=ue[1],be=r.a.useState([]),he=Object(s.a)(be,2),Oe=he[0],me=he[1],xe=r.a.useState(!1),fe=Object(s.a)(xe,2),ge=fe[0],pe=fe[1],ve=r.a.useState(null),we=Object(s.a)(ve,2),Se=we[0],ye=we[1],Pe=r.a.useState(!1),Ce=Object(s.a)(Pe,2),We=Ce[0],Me=Ce[1],Ie=r.a.useState(!1),Ne=Object(s.a)(Ie,2),Te=Ne[0],ke=Ne[1],Fe=r.a.useState(!1),Le=Object(s.a)(Fe,2),Ge=Le[0],Ee=Le[1],Re=G!==K?$/((K-G)/60):$/(K/60),Ue=r.a.useCallback((function(e){var t=e.currentTarget.value,n=C+t,a=n.length-1;if(!(0===t.length&&C.length>0&&0===T.length)){var r=Object(g.a)(b),c=b.slice(0,a).some((function(e){return"wrong"===e.display}));if(a<0)r=b.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{display:"initial"})}));else if(n[a]!==b[a].value||c)de((function(e){return e+1})),c=!0,r=b.map((function(e,t){return a<=t?Object(f.a)(Object(f.a)({},e),{},{display:"wrong"}):e}));else{var i=!0;r=b.map((function(e,t){return" "===n[a]?a>=t?Object(f.a)(Object(f.a)({},e),{},{display:"correct",currentWord:!1}):(" "===e.value&&i&&(i=!1),Object(f.a)(Object(f.a)({},e),{},{display:"initial",currentWord:i})):a>=t?Object(f.a)(Object(f.a)({},e),{},{display:"correct"}):Object(f.a)(Object(f.a)({},e),{},{display:"initial"})}))}var s=r.filter((function(e){return"correct"===e.display})).length,o=s/5;ae(s),_(o),m(r),t.includes(" ")&&!c?(k(""),W(n)):k(t)}}),[b,C,T]),De=function(){Ee(!1)};return r.a.useEffect((function(){if(V>0){var e=setTimeout((function(){X(V-1)}),1e3);return function(){return clearTimeout(e)}}var t;0===V&&A&&(q(!1),R.current=setInterval((function(){E((function(e){return e-1}))}),1e3),null===(t=re.current)||void 0===t||t.focus())}),[V,A,re]),r.a.useEffect((function(){(0===G||b.length===ne&&G!==K)&&(clearInterval(R.current),oe(!0),k(""),_(0),E(K),me([].concat(Object(g.a)(Oe),[{timeLeft:G,errorCount:je,wordsTyped:$,correctCharacters:ne,characters:b.map((function(e){return e.value})).join(""),typedCharacters:C,wordsPerMinute:G!==K?$/((K-G)/60):$/(K/60),completion:ne/b.length,duration:K}])),Ee(!0),pe(!0),Me(!1),m([]))}),[G,b,ne,je,$,C,Oe]),r.a.useEffect((function(){ge&&(null===i||void 0===i?void 0:i.id)&&!We&&fetch("https://60205a6546f1e40017803271.mockapi.io/users",{method:"POST",body:JSON.stringify(Object(f.a)(Object(f.a)({},i),{},{gameData:"test"}))}).then((function(e){return e.json()})).then((function(){Me(!0),pe(!1),ke(!0)}),(function(e){Me(!0),pe(!1),ye(e)}))}),[ge,i,Oe]),console.log("error",Se),console.log("successful",Te),Object(O.jsxs)(l.a,{children:[Object(O.jsx)(I,{time:G,wordsPerMinute:Re,username:null!==(t=null===i||void 0===i?void 0:i.username)&&void 0!==t?t:""}),Object(O.jsxs)(d.a,{container:!0,spacing:2,children:[Object(O.jsx)(B,{characters:b}),Object(O.jsxs)(d.a,{container:!0,item:!0,xs:12,children:[Object(O.jsx)(d.a,{item:!0,xs:!0,children:Object(O.jsx)(h.a,{size:"small",autoComplete:"off",type:"text",value:T,label:"Word",id:"wordInput",variant:"outlined",onChange:Ue,inputRef:re,disabled:se,autoFocus:!0})}),Object(O.jsx)(d.a,{item:!0,xs:!0,children:Object(O.jsx)(o.a,{variant:"contained",onClick:function(){X(3),E(K),de(0),q(!0),function(){var e=J.generateParagraphs(1),t=!0,n=Array.from(e).map((function(e){return" "===e&&t&&(t=!1),{value:e,display:"initial",currentWord:t}}));m(n),W(""),ae(0),k("")}(),oe(!1),clearInterval(R.current)},color:"primary",children:"New Game"})}),Object(O.jsx)(p.a,{open:V>0,children:Object(O.jsx)(w.a,{children:Object(O.jsx)(y.a,{children:"New Game starts in ".concat(V)})})}),Object(O.jsxs)(p.a,{open:Ge,onClose:De,children:[Object(O.jsx)(S.a,{children:"Results"}),Object(O.jsxs)(w.a,{children:[Object(O.jsxs)(y.a,{children:["Curent Game WPM:",null===(n=Oe[Oe.length-1])||void 0===n||null===(a=n.wordsPerMinute)||void 0===a?void 0:a.toFixed(2)]}),Object(O.jsxs)(y.a,{children:["Current Game Completion:",(100*((null===(c=Oe[Oe.length-1])||void 0===c?void 0:c.completion)||0)).toFixed(2),"%"]}),Object(O.jsxs)(y.a,{children:["Average WPM:",Oe.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.wordsPerMinute)||0)}),0)/Oe.length]}),Object(O.jsxs)(y.a,{children:["Total Games: ",Oe.length]})]}),Object(O.jsx)(v.a,{children:Object(O.jsx)(o.a,{onClick:De,color:"primary",children:"Ok"})})]})]}),Object(O.jsx)(d.a,{item:!0,xs:12,children:Object(O.jsx)(D,{results:Oe})})]})]})},H=function(){var e=r.a.useState(null),t=Object(s.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=r.a.useState([]),j=Object(s.a)(u,2),d=j[0],b=j[1],h=r.a.useState(),m=Object(s.a)(h,2),f=m[0],g=m[1],p=r.a.useState(!1),v=Object(s.a)(p,2),w=v[0],S=v[1];return r.a.useEffect((function(){0===d.length&&fetch("https://60205a6546f1e40017803271.mockapi.io/users").then((function(e){return e.json()})).then((function(e){l(!0),b(e)}),(function(e){l(!0),a(e)}))}),[d]),console.log("error",n),console.log("isLoaded",o),console.log("users",d),w?Object(O.jsx)(q,{user:f}):Object(O.jsx)(x,{users:d,setIsLoggedIn:S,setUser:g})},Q=(n(93),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))});i.a.render(Object(O.jsx)(H,{}),document.getElementById("root")),Q()}},[[94,1,2]]]);
//# sourceMappingURL=main.cea999ac.chunk.js.map